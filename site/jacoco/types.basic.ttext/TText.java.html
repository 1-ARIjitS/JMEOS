<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TText.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jmeos</a> &gt; <a href="index.source.html" class="el_package">types.basic.ttext</a> &gt; <span class="el_source">TText.java</span></div><h1>TText.java</h1><pre class="source lang-java linenums">package types.basic.ttext;

import functions.functions;
import jnr.ffi.Memory;
import jnr.ffi.Pointer;
import jnr.ffi.Runtime;
import org.locationtech.jts.io.ParseException;
import types.basic.tfloat.TFloatInst;
import types.basic.tfloat.TFloatSeq;
import types.basic.tfloat.TFloatSeqSet;
import types.basic.tpoint.TPoint;
import types.collections.base.Set;
import types.collections.time.tstzset;
import types.collections.time.tstzspan;
import types.collections.time.Time;
import types.collections.time.tstzspanset;
import types.temporal.*;
import utils.ConversionUtils;

import java.nio.charset.StandardCharsets;
import java.time.LocalDateTime;
import java.util.List;


/**
 * Class that represents the MobilityDB type TText used for {@link TTextInst}, {@link TTextSeq} and {@link TTextSeqSet}
 *
 * @author ARIJIT SAMAL
 */
public interface TText {
    String customType = &quot;String&quot;;
    Pointer getTextInner();
    String getCustomType();
    TemporalType getTemporalType();


    /* ------------------------- Constructors ---------------------------------- */


    /**
     * Create a temporal string from a string value and the time frame of
     *         another temporal object.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_from_base_temp&lt;/li&gt;
     *
     * @param value String value.
     * @param base Temporal object to use as time frame.
     * @return A new {@link TText} object.
     */
    static TText from_base_temporal(String value, Temporal base){
<span class="nc" id="L54">        return (TText) Factory.create_temporal(functions.ttext_from_base_temp(functions.cstring2text(value), base.getInner()),customType,base.getTemporalType());</span>
    }

    /**
     * Create a temporal string from a string value and a time object.
     *
     *  &lt;p&gt;
     *         MEOS Functions:
     *         &lt;ul&gt;
     *             &lt;li&gt;ttextinst_make&lt;/li&gt;
     *             &lt;li&gt;ttextseq_from_base_tstzspanset&lt;/li&gt;
     *             &lt;li&gt;ttextseq_from_base_tstzset&lt;/li&gt;
     *             &lt;li&gt;ttextseqset_from_base_tstzspan&lt;/li&gt;
     *         &lt;/ul&gt;
     *
     * @param value String value.
     * @param base Time object to use as temporal dimension.
     * @return A new temporal boolean.
     */
    static Temporal from_base_time(String value, Time base){
<span class="fc bfc" id="L74" title="All 2 branches covered.">        if (base instanceof tstzspanset){</span>
<span class="fc" id="L75">            return new TTextSeq(functions.ttextseqset_from_base_tstzspanset(functions.cstring2text(value),((tstzspanset) base).get_inner()));</span>

<span class="fc bfc" id="L77" title="All 2 branches covered.">        } else if (base instanceof tstzset) {</span>
<span class="fc" id="L78">            return new TTextSeq(functions.ttextseq_from_base_tstzset(functions.cstring2text(value),((tstzset) base).get_inner()));</span>

<span class="pc bpc" id="L80" title="1 of 2 branches missed.">        } else if (base instanceof tstzspan) {</span>
<span class="fc" id="L81">            return new TTextSeqSet(functions.ttextseq_from_base_tstzspan(functions.cstring2text(value),((tstzspan) base).get_inner()));</span>
        }

<span class="nc" id="L84">        return null;</span>
    }


/**
        Returns a temporal object from a MF-JSON string.

        Args:
            mfjson: The MF-JSON string.

        Returns:
            A temporal object from a MF-JSON string.

        MEOS Functions:
            ttext_from_mfjson
*/
    default TText from_mfjson(String mfjson){
<span class="nc" id="L101">        Pointer result= functions.ttext_from_mfjson(mfjson);</span>
<span class="nc" id="L102">        return (TText) Factory.create_temporal(result, getCustomType(), getTemporalType());</span>
    }


    /* ------------------------- Output ---------------------------------- */


    /**
     * Returns the string representation of &quot;this&quot;.
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;ttext_out&lt;/li&gt;
     * @return Returns the string representation of &quot;this&quot;
     */
    default String to_string(){
<span class="fc" id="L117">        return functions.ttext_out(getTextInner());</span>
    }



    /**
     * Returns the Well-Known Text representation of &quot;this&quot;.
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;ttext_out&lt;/li&gt;
     * @return A string with the Well-Known Text representation of &quot;this&quot;.
     */
    default String as_wkt(){
<span class="nc" id="L130">        return functions.ttext_out(getTextInner());</span>
    }


    /* ------------------------- Accessors ---------------------------------- */

    /**
     Returns the set of unique values of the temporal string.

     Returns:
     A set of unique values.

     MEOS Functions:
     ttext_values
     */

    default Set&lt;String&gt; value_set(){
        // Create a JNR-FFI runtime instance
<span class="nc" id="L148">        Runtime runtime = Runtime.getSystemRuntime();</span>
        // Allocate memory for an integer (4 bytes) but do not set a value
<span class="nc" id="L150">        Pointer intPointer = Memory.allocate(Runtime.getRuntime(runtime), 4);</span>
<span class="nc" id="L151">        Pointer resPointer= functions.ttext_values(this.getTextInner(), intPointer);</span>
<span class="nc" id="L152">        StringBuilder sb= null;</span>
<span class="nc" id="L153">        sb.append(&quot;{&quot;);</span>
<span class="nc" id="L154">        int count= intPointer.getInt(Integer.BYTES);</span>
<span class="nc bnc" id="L155" title="All 2 branches missed.">        for(int i=0; i&lt;count; i++){</span>
<span class="nc" id="L156">            Pointer res= resPointer.getPointer((long) i *Long.BYTES);</span>
<span class="nc" id="L157">            String resString= functions.text2cstring(res);</span>
<span class="nc" id="L158">            sb.append(resString);</span>
<span class="nc bnc" id="L159" title="All 2 branches missed.">            if(i&lt;count-1){</span>
<span class="nc" id="L160">                sb.append(&quot;, &quot;);</span>
            }
        }
<span class="nc" id="L163">        sb.append(&quot;}&quot;);</span>
<span class="nc" id="L164">        return new Set&lt;String&gt;() {</span>
            @Override
            public Pointer get_inner() {
<span class="nc" id="L167">                return resPointer;</span>
            }

            @Override
            public Pointer createInner(Pointer inner) {
<span class="nc" id="L172">                return inner;</span>
            }

            @Override
            public Pointer createStringInner(String str) {
<span class="nc" id="L177">                return functions.ttext_in(str);</span>
            }

            @Override
            public String start_element() throws ParseException {
<span class="nc" id="L182">                return functions.text2cstring(functions.ttext_min_value(getTextInner()));</span>
            }

            @Override
            public String end_element() throws ParseException {
<span class="nc" id="L187">                return functions.text2cstring(functions.ttext_max_value(getTextInner()));</span>
            }
        };
    }

    /**
     * Returns the minimum value of the &quot;this&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_min_value&lt;/li&gt;
     * @return A {@link String} with the minimum value.
     */
    default String min_value(){
<span class="nc" id="L202">        return functions.text2cstring(functions.ttext_min_value(getTextInner()));</span>
    }

    /**
     * Returns the maximum value of the &quot;this&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_max_value&lt;/li&gt;
     * @return A {@link String} with the maximum value.
     */
    default String max_value(){
<span class="nc" id="L215">        return functions.text2cstring(functions.ttext_max_value(getTextInner()));</span>
    }


    /**
     * Returns the starting value of &quot;this&quot;.
     *
     *         MEOS Function:
     *            &lt;li&gt;ttext_start_value&lt;/li&gt;
     * @return Returns the starting value of &quot;this&quot;.
     */
    default String start_value(){
<span class="fc" id="L227">        return functions.text2cstring(functions.ttext_start_value(getTextInner()));</span>
    }

    /**
     * Returns the ending value of &quot;this&quot;.
     *
     *         MEOS Function:
     *             &lt;li&gt;ttext_end_value&lt;/li&gt;
     * @return Returns the ending value of &quot;this&quot;.
     */
    default String end_value(){
<span class="fc" id="L238">        return functions.text2cstring(functions.ttext_end_value(getTextInner()));</span>
    }


 /**
        Returns a new temporal string with the values of `self` converted to
        upper case.

        Returns:
            A new temporal string.

        MEOS Functions:
            ttext_upper
*/
    default TText upper(){
<span class="nc" id="L253">        Pointer res= functions.ttext_upper(this.getTextInner());</span>
<span class="nc" id="L254">        return (TText) Factory.create_temporal(res, getCustomType(), getTemporalType());</span>
    }

    /**
            Returns a new temporal string with the values of `self` converted to
            lower case.

            Returns:
                A new temporal string.

            MEOS Functions:
                ttext_lower
    */
    default TText lower(){
<span class="nc" id="L268">        Pointer res= functions.ttext_lower(this.getTextInner());</span>
<span class="nc" id="L269">        return (TText) Factory.create_temporal(res, getCustomType(), getTemporalType());</span>
    }

    /**
        Returns the value that `self` takes at a certain moment.

        Args:
            timestamp: The moment to get the value.

        Returns:
            A string with the value of `self` at `timestamp`.

        MEOS Functions:
            ttext_value_at_timestamp
    */

    default String value_at_timestamp(LocalDateTime ts){
        // Create a JNR-FFI runtime instance
<span class="nc" id="L287">        Runtime runtime = Runtime.getSystemRuntime();</span>
        // Allocate memory for an integer (4 bytes) but do not set a value
<span class="nc" id="L289">        Pointer textPointer = Memory.allocate(Runtime.getRuntime(runtime), 8);</span>
<span class="nc" id="L290">        boolean result= functions.ttext_value_at_timestamptz(this.getTextInner(), ConversionUtils.datetimeToTimestampTz(ts), true, textPointer);</span>
<span class="nc" id="L291">        return functions.text2cstring(textPointer.getPointer(Long.BYTES));</span>
    }

    /* ------------------------- Ever and Always Comparisons ------------------- */


    /**
     * Returns whether the values of &quot;this&quot; are always equal to &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_eq&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are always equal to &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean always_equal(String value){
<span class="nc bnc" id="L309" title="All 2 branches missed.">        return functions.always_eq_ttext_text(getTextInner(),functions.cstring2text(value)) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are always not equal to &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_eq&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are always not equal to &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean always_not_equal(String value){
<span class="nc bnc" id="L324" title="All 2 branches missed.">        return (functions.always_ne_ttext_text(getTextInner(),functions.cstring2text(value))) &gt; 0;</span>
    }


    /**
     * Returns whether the values of &quot;this&quot; are always less than &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_lt&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are always less than &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean always_less(String value){
<span class="nc bnc" id="L340" title="All 2 branches missed.">        return functions.always_lt_ttext_text(getTextInner(),functions.cstring2text(value)) &gt; 0;</span>
    }


    /**
     * Returns whether the values of &quot;this&quot; are always less than or equal to
     *         &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_le&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are always less than or equal to
     * 	 *             &quot;value&quot;, &quot;False&quot; otherwise.
     */
    default boolean always_less_or_equal(String value){
<span class="nc bnc" id="L357" title="All 2 branches missed.">        return functions.always_le_ttext_text(getTextInner(),functions.cstring2text(value)) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are always greater than or equal
     *         to &quot;value&quot;.
     *
     *   &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_lt&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are always greater than or equal to
     * 	 *             &quot;value&quot;, &quot;False&quot; otherwise.
     */
    default boolean always_greater_or_equal(String value){
<span class="nc bnc" id="L373" title="All 2 branches missed.">        return (functions.always_ge_ttext_text(getTextInner(),functions.cstring2text(value))) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are always greater than &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_le&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are always greater than &quot;value&quot;,
     * 	 *            &quot; `False`&quot; otherwise.
     */
    default boolean always_greater(String value){
<span class="nc bnc" id="L388" title="All 2 branches missed.">        return (functions.always_gt_ttext_text(getTextInner(),functions.cstring2text(value))) &gt; 0;</span>
    }

    /**
     * Returns whether the values of `self` are ever less than &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_lt&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are ever less than &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean ever_less(String value){
<span class="nc bnc" id="L403" title="All 2 branches missed.">        return functions.ever_lt_ttext_text(getTextInner(),functions.cstring2text(value)) &gt; 0;</span>
    }


    /**
     * Returns whether the values of &quot;this&quot; are ever less than or equal to
     *         &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_le&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are ever less than or equal to
     * 	 *             &quot;value&quot;, &quot;False&quot; otherwise.
     */
    default boolean ever_less_or_equal(String value){
<span class="nc bnc" id="L420" title="All 2 branches missed.">        return functions.ever_le_ttext_text(getTextInner(),functions.cstring2text(value)) &gt; 0;</span>
    }


    /**
     * Returns whether the values of &quot;this&quot; are ever equal to &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_eq&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are ever equal to &quot;value&quot;, &quot;False&quot;
     * 	 *             otherwise.
     */
    default boolean ever_equal(String value){
<span class="nc bnc" id="L436" title="All 2 branches missed.">        return functions.ever_eq_ttext_text(getTextInner(),functions.cstring2text(value)) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are ever not equal to &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_eq&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are ever not equal to &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean ever_not_equal(String value){
<span class="nc bnc" id="L451" title="All 2 branches missed.">        return (functions.ever_ne_ttext_text(getTextInner(),functions.cstring2text(value))) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are ever greater than or equal to
     *         &quot;value&quot;.
     *
     * &lt;p&gt;
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_lt&lt;/li&gt;
     *
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are ever greater than or equal to
     * 	 *             &quot;value&quot;, &quot;False&quot; otherwise.
     */
    default boolean ever_greater_or_equal(String value){
<span class="nc bnc" id="L467" title="All 2 branches missed.">        return (functions.ever_ge_ttext_text(getTextInner(),functions.cstring2text(value))) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are ever greater than &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_le&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are ever greater than &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean ever_greater(String value){
<span class="nc bnc" id="L482" title="All 2 branches missed.">        return (functions.ever_gt_ttext_text(getTextInner(),functions.cstring2text(value))) &gt; 0;</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are never equal to &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_eq&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are never equal to &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean never_equal(String value){
<span class="nc bnc" id="L497" title="All 2 branches missed.">        return ! (this.ever_equal(value));</span>
    }


    /**
     * Returns whether the values of &quot;this&quot; are never not equal to &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_eq&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are never not equal to &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean never_not_equal(String value){
<span class="nc bnc" id="L513" title="All 2 branches missed.">        return ! (this.never_not_equal(value));</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are never less than &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_lt&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are never less than &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean never_less(String value){
<span class="nc bnc" id="L528" title="All 2 branches missed.">        return ! (this.ever_less(value));</span>
    }


    /**
     * Returns whether the values of &quot;this&quot; are never less than or equal to
     *         &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_ever_le&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are never less than or equal to
     * 	 *             &quot;value&quot;, &quot;False&quot; otherwise.
     */
    default boolean never_less_or_equal(String value){
<span class="nc bnc" id="L545" title="All 2 branches missed.">        return ! (this.ever_less_or_equal(value));</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are never greater than or equal to
     *         &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_lt&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this &quot;are never greater than or equal to
     * 	 *             &quot;value&quot;, &quot;False&quot; otherwise.
     */
    default boolean never_greater_or_equal(String value){
<span class="nc bnc" id="L561" title="All 2 branches missed.">        return ! (this.ever_greater_or_equal(value));</span>
    }

    /**
     * Returns whether the values of &quot;this&quot; are never greater than &quot;value&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;ttext_always_le&lt;/li&gt;
     * @param value {@link String} to compare.
     * @return &quot;True&quot; if the values of &quot;this&quot; are never greater than &quot;value&quot;,
     * 	 *             &quot;False&quot; otherwise.
     */
    default boolean never_greater(String value){
<span class="nc bnc" id="L576" title="All 2 branches missed.">        return ! (this.ever_greater(value));</span>
    }




    /* ------------------------- Temporal Comparisons -------------------------- */

    /**
     * Returns the temporal equality relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;teq_ttext_text&lt;/li&gt;
     *             &lt;li&gt;teq_temporal_temporal&lt;/li&gt;
     * @param other An {@link String} or temporal object to
     * 	 *             compare to `self`.
     * @return A {@link Temporal} with the result of the temporal equality relation.
     */
    default Temporal temporal_equal_string(String other){
<span class="nc bnc" id="L597" title="All 2 branches missed.">        if ((other instanceof String)){</span>
<span class="nc" id="L598">            return Factory.create_temporal(functions.teq_ttext_text(getTextInner(),functions.cstring2text(other)), getCustomType(),getTemporalType());</span>
        }
        else{
<span class="nc" id="L601">            throw new UnsupportedOperationException(&quot;Parameter not supported&quot;);</span>
        }
    }




    /**
     * Returns the temporal not equal relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tne_ttext_text&lt;/li&gt;
     *             &lt;li&gt;tne_temporal_temporal&lt;/li&gt;
     * @param other An {@link String} or temporal object to
     * 	 *             compare to `self`.
     * @return A {@link Temporal} with the result of the temporal equality relation.
     */
    default Temporal temporal_not_equal_string(String other){
<span class="nc bnc" id="L621" title="All 2 branches missed.">        if ((other instanceof String)){</span>
<span class="nc" id="L622">            return Factory.create_temporal(functions.tne_ttext_text(getTextInner(), functions.cstring2text(other)), getCustomType(),getTemporalType());</span>
        }
        else{
<span class="nc" id="L625">            throw new UnsupportedOperationException(&quot;Parameter not supported&quot;);</span>
        }
    }



    /**
     * Returns the temporal less than relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tlt_ttext_text&lt;/li&gt;
     *             &lt;li&gt;tlt_temporal_temporal&lt;/li&gt;
     * @param other An {@link String} or temporal object to
     * 	 *             compare to `self`.
     * @return A {@link Temporal} with the result of the temporal equality relation.
     */
    default Temporal temporal_less_string(String other){
<span class="nc bnc" id="L644" title="All 2 branches missed.">        if ((other instanceof String)){</span>
<span class="nc" id="L645">            return Factory.create_temporal(functions.tlt_ttext_text(getTextInner(),functions.cstring2text(other)), getCustomType(),getTemporalType());</span>
        }
        else{
<span class="nc" id="L648">            throw new UnsupportedOperationException(&quot;Parameter not supported&quot;);</span>
        }
    }




    /**
     *  Returns the temporal less or equal relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tle_ttext_text&lt;/li&gt;
     *             &lt;li&gt;tle_temporal_temporal&lt;/li&gt;
     * @param other An {@link String} or temporal object to
     * 	 *             compare to `self`.
     * @return A {@link Temporal} with the result of the temporal equality relation.
     */
    default Temporal temporal_less_or_equal_string(String other){
<span class="nc bnc" id="L668" title="All 2 branches missed.">        if ((other instanceof String)){</span>
<span class="nc" id="L669">            return Factory.create_temporal(functions.tle_ttext_text(getTextInner(),functions.cstring2text(other)), getCustomType(),getTemporalType());</span>
        }
        else{
<span class="nc" id="L672">            throw new UnsupportedOperationException(&quot;Parameter not supported&quot;);</span>
        }
    }




    /**
     *  Returns the temporal greater or equal relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tge_ttext_text&lt;/li&gt;
     *             &lt;li&gt;tge_temporal_temporal&lt;/li&gt;
     * @param other An {@link String} or temporal object to
     * 	 *             compare to `self`.
     * @return A {@link Temporal} with the result of the temporal equality relation.
     */
    default Temporal temporal_greater_or_equal_string(String other){
<span class="nc bnc" id="L692" title="All 2 branches missed.">        if ((other instanceof String)){</span>
<span class="nc" id="L693">            return Factory.create_temporal(functions.tge_ttext_text(getTextInner(),functions.cstring2text(other)), getCustomType(),getTemporalType());</span>
        }
        else{
<span class="nc" id="L696">            throw new UnsupportedOperationException(&quot;Parameter not supported&quot;);</span>
        }
    }



    /**
     *  Returns the temporal greater than relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tgt_ttext_text&lt;/li&gt;
     *             &lt;li&gt;tgt_temporal_temporal&lt;/li&gt;
     * @param other An {@link String} or temporal object to
     * 	 *             compare to `self`.
     * @return A {@link Temporal} with the result of the temporal equality relation.
     */
    default Temporal temporal_greater_string(String other){
<span class="nc bnc" id="L715" title="All 2 branches missed.">        if ((other instanceof String) ){</span>
<span class="nc" id="L716">            return Factory.create_temporal(functions.tgt_ttext_text(getTextInner(),functions.cstring2text(other)), getCustomType(),getTemporalType());</span>
        }
        else{
<span class="nc" id="L719">            throw new UnsupportedOperationException(&quot;Parameter not supported&quot;);</span>
        }
    }

    /* ------------------------- Restrictions ---------------------------------- */

    /**
        Returns a new temporal string with the values of `self` restricted to
        the time or value `other`.

        Args:
            other: Time or value to restrict to.

        Returns:
            A new temporal string.

        MEOS Functions:
            ttext_at_value, temporal_at_timestamp, temporal_at_tstzset,
            temporal_at_tstzspan, temporal_at_tstzspanset
      */

      private Pointer createPointerFromString(String str) {
            // Get the runtime associated with the current MeosLibrary
<span class="nc" id="L742">            Runtime runtime = Runtime.getSystemRuntime();</span>

            // Allocate memory for the string in native space and copy the string contents
<span class="nc" id="L745">            Pointer pointer = Memory.allocate(Runtime.getRuntime(runtime), str.length()+1);</span>
<span class="nc" id="L746">            pointer.putString(0, str, str.length(), StandardCharsets.UTF_8);</span>

<span class="nc" id="L748">            return pointer;</span>
        }

      default TText at(Object other) throws Exception {
<span class="nc" id="L752">          Pointer res= null;</span>
<span class="nc bnc" id="L753" title="All 2 branches missed.">          if(other instanceof String){</span>
<span class="nc" id="L754">              res= functions.ttext_at_value(this.getTextInner(), createPointerFromString((String) other));</span>
          }
<span class="nc bnc" id="L756" title="All 4 branches missed.">          else if(other instanceof List &amp;&amp; ((List&lt;?&gt;) other).getFirst() instanceof String){</span>
<span class="nc" id="L757">              int count=0;</span>
<span class="nc" id="L758">              res=  functions.temporal_at_values(this.getTextInner(), functions.textset_make((Pointer) other, count));</span>
<span class="nc" id="L759">          }</span>
          else{
<span class="nc" id="L761">              throw new Exception(&quot;type not supported&quot;);</span>
          }
<span class="nc" id="L763">          return (TText) Factory.create_temporal(res, getCustomType(), getTemporalType());</span>
      }

      /**
        Returns a new temporal string with the values of `self` restricted to
        the complement of the time or value `other`.

        Args:
            other: Time or value to restrict to the complement of.

        Returns:
            A new temporal string.

        MEOS Functions:
            ttext_minus_value, temporal_minus_timestamp,
            temporal_minus_tstzset, temporal_minus_tstzspan,
            temporal_minus_tstzspanset
       */

      default TText minus(Object other) throws Exception {
<span class="nc" id="L783">          Pointer res= null;</span>
<span class="nc bnc" id="L784" title="All 2 branches missed.">          if(other instanceof String){</span>
<span class="nc" id="L785">              res= functions.ttext_minus_value(this.getTextInner(), createPointerFromString((String) other));</span>
          }
<span class="nc bnc" id="L787" title="All 4 branches missed.">          else if(other instanceof List &amp;&amp; ((List&lt;?&gt;) other).getFirst() instanceof String){</span>
<span class="nc" id="L788">              int count=0;</span>
<span class="nc" id="L789">              res=  functions.temporal_minus_values(this.getTextInner(), functions.textset_make((Pointer) other, count));</span>
<span class="nc" id="L790">          }</span>
          else{
<span class="nc" id="L792">              throw new Exception(&quot;type not supported&quot;);</span>
          }
<span class="nc" id="L794">          return (TText) Factory.create_temporal(res, getCustomType(), getTemporalType());</span>
      }

    /* ------------------------- Text Operations ------------------------------ */

    /**
        Returns a new temporal string with the values of `self` concatenated
        with the values of `other`.

        Args:
            other: Temporal string or string to concatenate.
            other_before: If `True` the values of `other` are prepended to the
            values of `self`.

        Returns:
            A new temporal string.

        MEOS Functions:
            textcat_ttext_text, textcat_text_ttext, textcat_ttext_ttext

     */
    
    default TText concatenate(Object other, boolean other_before) throws Exception {
<span class="nc" id="L817">        Pointer res= null;</span>
<span class="nc bnc" id="L818" title="All 2 branches missed.">        if(other instanceof String){</span>
<span class="nc bnc" id="L819" title="All 2 branches missed.">            if(!other_before){</span>
<span class="nc" id="L820">                res= functions.textcat_ttext_text(this.getTextInner(), createPointerFromString((String) other));</span>
            }
            else{
<span class="nc" id="L823">                res= functions.textcat_text_ttext(createPointerFromString((String) other), this.getTextInner());</span>
            }
        }
<span class="nc bnc" id="L826" title="All 2 branches missed.">        else if (other instanceof TText){</span>
<span class="nc bnc" id="L827" title="All 2 branches missed.">            if(!other_before){</span>
<span class="nc" id="L828">                res= functions.textcat_ttext_ttext(this.getTextInner(), ((TText) other).getTextInner());</span>
            }
            else{
<span class="nc" id="L831">                res= functions.textcat_ttext_ttext(((TText) other).getTextInner(), this.getTextInner());</span>
            }
        }
        else{
<span class="nc" id="L835">            throw new Exception(&quot;format not supported&quot;);</span>
        }
<span class="nc" id="L837">        return (TText) Factory.create_temporal(res, getCustomType(), getTemporalType());</span>
    }


/**
        Returns a new temporal string with the values of `self` concatenated
        with the values of `other`.

        Args:
            other: Temporal string or string to concatenate.

        Returns:
            A new temporal string.

        MEOS Functions:
            textcat_ttext_text, textcat_text_ttext, textcat_ttext_ttext
*/
    default TText _add(Object other) throws Exception {
<span class="nc" id="L855">        return this.concatenate(other, false);</span>
    }


/**
        Returns a new temporal string with the values of `other` concatenated
        with the values of `self`.

        Args:
            other: Temporal string or string to concatenate.

        Returns:
            A new temporal string.

        MEOS Functions:
            textcat_ttext_text, textcat_text_ttext, textcat_ttext_ttext
*/
    default TText _radd(Object other) throws Exception {
<span class="nc" id="L873">        return this.concatenate(other, true);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>