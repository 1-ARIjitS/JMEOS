<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TBool.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jmeos</a> &gt; <a href="index.source.html" class="el_package">types.basic.tbool</a> &gt; <span class="el_source">TBool.java</span></div><h1>TBool.java</h1><pre class="source lang-java linenums">package types.basic.tbool;

import jnr.ffi.Memory;
import jnr.ffi.Pointer;
import jnr.ffi.Runtime;
import jnr.ffi.annotations.In;
import org.locationtech.jts.io.ParseException;
import types.collections.base.Set;
import types.collections.number.FloatSet;
import types.collections.time.tstzset;
import types.collections.time.tstzspan;
import types.collections.time.Time;
import types.collections.time.tstzspanset;
import types.temporal.*;
import functions.functions;
import utils.ConversionUtils;

import java.time.LocalDateTime;


/**
 * Class that represents the MobilityDB type TBool used for {@link TBoolInst}, {@link TBoolSeq} and {@link TBoolSeqSet}
 *
 * @author ARIJIT SAMAL
 */
public interface TBool {
    String customType = &quot;Boolean&quot;;
    Pointer getBoolInner();
    String getCustomType();
    TemporalType getTemporalType();


    /* ------------------------- Constructors ---------------------------------- */


    /**
     * Create a temporal Boolean from a Boolean value and the time frame of
     *         another temporal object.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tbool_from_base_temp&lt;/li&gt;
     *
     * @param value Boolean value.
     * @param base Temporal object to use as time frame.
     * @return A new :class:`TBool` object.
     */
    default TBool from_base_temporal(boolean value, Temporal base){
<span class="nc" id="L50">        return (TBool) Factory.create_temporal(functions.tbool_from_base_temp(value, base.getInner()),customType,base.getTemporalType());</span>
    }

    /**
     * Create a temporal boolean from a boolean value and a time object.
     *
     *  &lt;p&gt;
     *         MEOS Functions:
     *         &lt;ul&gt;
     *             &lt;li&gt;tboolinst_make&lt;/li&gt;
     *             &lt;li&gt;tboolseq_from_base_timestampset&lt;/li&gt;
     *             &lt;li&gt;tboolseq_from_base_period&lt;/li&gt;
     *             &lt;li&gt;tboolseqset_from_base_periodset&lt;/li&gt;
     *         &lt;/ul&gt;
     *
     * @param value Boolean value.
     * @param base Time object to use as temporal dimension.
     * @return A new temporal boolean.
     */
    static Temporal from_base_time(boolean value, Time base){
<span class="fc bfc" id="L70" title="All 2 branches covered.">        if (base instanceof tstzspanset){</span>
<span class="fc" id="L71">            return new TBoolSeq(functions.tboolseqset_from_base_tstzspanset(value,((tstzspanset) base).get_inner()));</span>

<span class="fc bfc" id="L73" title="All 2 branches covered.">        } else if (base instanceof tstzset) {</span>
<span class="fc" id="L74">            return new TBoolSeq(functions.tboolseq_from_base_tstzset(value,((tstzset) base).get_inner()));</span>

<span class="pc bpc" id="L76" title="1 of 2 branches missed.">        } else if (base instanceof tstzspan) {</span>
<span class="fc" id="L77">            return new TBoolSeqSet(functions.tboolseq_from_base_tstzspan(value,((tstzspan) base).get_inner()));</span>
        }

<span class="nc" id="L80">        return null;</span>
    }
/**
        Returns a temporal object from a MF-JSON string.

        Args:
            mfjson: The MF-JSON string.

        Returns:
            A temporal object from a MF-JSON string.

        MEOS Functions:
            tbool_from_mfjson
*/
    default TBool from_mfjson(String mfjson){
<span class="nc" id="L95">        Pointer result= functions.tbool_from_mfjson(mfjson);</span>
<span class="nc" id="L96">        return (TBool) Factory.create_temporal(result, getCustomType(), getTemporalType());</span>
    }


    /* ------------------------- Output ---------------------------------- */


    /**
     * Returns the string representation of &quot;this&quot;.
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;tbool_out&lt;/li&gt;
     * @return Returns the string representation of &quot;this&quot;
     */
    default String to_string(){
<span class="fc" id="L111">        return functions.tbool_out(getBoolInner());</span>
    }

    /**
     * Returns the string representation of &quot;this&quot; in WKT format.
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;tbool_out&lt;/li&gt;
     * @return Returns the string representation of &quot;this&quot;
     */
    default String as_wkt(){
<span class="nc" id="L122">        return functions.tbool_out(getBoolInner());</span>
    }


    /* ------------------------- Accessors ---------------------------------- */
/**
        Returns the unique values in `self`.

        MEOS Function:
            tbool_values
 */
    default Set&lt;Boolean&gt; value_set(){
        // Create a JNR-FFI runtime instance
<span class="nc" id="L135">        Runtime runtime = Runtime.getSystemRuntime();</span>
        // Allocate memory for an integer (4 bytes) but do not set a value
<span class="nc" id="L137">        Pointer intPointer = Memory.allocate(Runtime.getRuntime(runtime), 4);</span>
<span class="nc" id="L138">        Pointer resPointer = functions.tbool_values(this.getBoolInner(), intPointer);</span>
<span class="nc" id="L139">        StringBuilder sb = null;</span>
<span class="nc" id="L140">        sb.append(&quot;{&quot;);</span>
<span class="nc" id="L141">        int count= intPointer.getInt(Integer.BYTES);</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">        for (int i=0;i&lt;count;i++){</span>
<span class="nc" id="L143">            boolean boolRes= false;</span>
<span class="nc" id="L144">            int res= resPointer.getInt((long) i *Integer.BYTES);</span>
<span class="nc bnc" id="L145" title="All 2 branches missed.">            if(res&gt;0){</span>
<span class="nc" id="L146">                boolRes= true;</span>
            }
<span class="nc" id="L148">            sb.append(boolRes);</span>
<span class="nc bnc" id="L149" title="All 2 branches missed.">            if(i&lt;count-1){</span>
<span class="nc" id="L150">                sb.append(&quot;, &quot;);</span>
            }
        }
<span class="nc" id="L153">        sb.append(&quot;}&quot;);</span>
<span class="nc" id="L154">        System.out.println(sb.toString());</span>
<span class="nc" id="L155">        return new Set&lt;Boolean&gt;(sb.toString()) {</span>
            @Override
            public Pointer get_inner() {
<span class="nc" id="L158">                return resPointer;</span>
            }

            @Override
            public Pointer createInner(Pointer inner) {
<span class="nc" id="L163">                return inner;</span>
            }

            @Override
            public Pointer createStringInner(String str) {
<span class="nc" id="L168">                return functions.tbool_in(str);</span>
            }

            @Override
            public Boolean start_element() throws ParseException {
<span class="nc" id="L173">                return functions.tbool_start_value(this.get_inner());</span>
            }

            @Override
            public Boolean end_element() throws ParseException {
<span class="nc" id="L178">                return functions.tbool_end_value(this.get_inner());</span>
            }
        };
    }

    /**
     * Returns the starting value of &quot;this&quot;.
     *
     *         MEOS Function:
     *            &lt;li&gt;tbool_start_value&lt;/li&gt;
     * @return Returns the starting value of &quot;this&quot;.
     */
    default boolean start_value(){
<span class="fc" id="L191">        return functions.tbool_start_value(getBoolInner());</span>
    }

    /**
     * Returns the ending value of &quot;this&quot;.
     *
     *         MEOS Function:
     *             &lt;li&gt;tbool_end_value&lt;/li&gt;
     * @return Returns the ending value of &quot;this&quot;.
     */
    default boolean end_value(){
<span class="fc" id="L202">        return functions.tbool_end_value(getBoolInner());</span>
    }

/**
        Returns the value that `self` takes at a certain moment.

        Args:
            timestamp: Timestamp to get the value at.

        Returns:
            The value at the given timestamp.

        MEOS Function:
            tbool_value_at_timestamptz
*/

default boolean value_at_timestamp(LocalDateTime ts){
    // Create a JNR-FFI runtime instance
<span class="nc" id="L220">    Runtime runtime = Runtime.getSystemRuntime();</span>
    // Allocate memory for an integer (4 bytes) but do not set a value
<span class="nc" id="L222">    Pointer boolPointer = Memory.allocate(Runtime.getRuntime(runtime), 4);</span>
<span class="nc" id="L223">    boolean res= functions.tbool_value_at_timestamptz(this.getBoolInner(), ConversionUtils.datetimeToTimestampTz(ts), true, boolPointer);</span>
<span class="nc" id="L224">    int value= boolPointer.getInt(Integer.BYTES);</span>
<span class="nc bnc" id="L225" title="All 2 branches missed.">    return value &gt; 0;</span>
}


    /* ------------------------- Ever and Always Comparisons ------------------- */


    /**
     * Returns whether &quot;this&quot; is always equal to &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Function:
     *             &lt;li&gt;tbool_always_eq&lt;/li&gt;
     * @param value Value to check for.
     * @return True if &quot;this&quot; is always equal to &quot;value&quot;, False otherwise.
     */
    default boolean always_eq(boolean value){
<span class="fc" id="L243">        int result= functions.always_eq_tbool_bool(getBoolInner(), value);</span>
<span class="fc bfc" id="L244" title="All 2 branches covered.">        return result &gt; 0;</span>
    }


    /**
     * Returns whether &quot;this&quot; is ever equal to &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Function:
     *             &lt;li&gt;tbool_ever_eq&lt;/li&gt;
     * @param value Value to check for.
     * @return True if &quot;this&quot; is ever equal to &quot;value&quot;, False otherwise.
     */
    default boolean ever_eq(boolean value){
<span class="fc" id="L259">        int result= functions.ever_eq_tbool_bool(getBoolInner(), value);</span>
<span class="fc bfc" id="L260" title="All 2 branches covered.">        return result &gt; 0;</span>
    }

    /**
     * Returns whether &quot;this&quot; is never equal to &quot;value&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Function:
     *             &lt;li&gt;tbool_ever_eq&lt;/li&gt;
     * @param value Value to check for.
     * @return True if &quot;this&quot; is never equal to &quot;value&quot;, False otherwise.
     */
    default boolean never_eq(boolean value){
<span class="fc bfc" id="L274" title="All 2 branches covered.">        return !(this.ever_eq(value));</span>
    }




    /* ------------------------- Temporal Comparisons -------------------------- */

    /**
     * Returns the temporal equality relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *         MEOS Functions:
     *         &lt;ul&gt;
     *             &lt;li&gt;teq_tbool_tbool&lt;/li&gt;
     *             &lt;li&gt;teq_temporal_temporal&lt;/li&gt;
     *         &lt;/ul&gt;
     *
     * @param other A temporal or boolean object to compare to &quot;this&quot;.
     * @return A {@link TBool} with the result of the temporal equality relation.
     */
    default TBool temporal_equal(boolean other){
<span class="nc" id="L296">        return (TBool) Factory.create_temporal(functions.teq_tbool_bool(getBoolInner(),other), getCustomType(),getTemporalType());</span>
    }




    /**
     * Returns the temporal inequality relation between &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *         MEOS Functions:
     *         &lt;ul&gt;
     *             &lt;li&gt;teq_tbool_tbool&lt;/li&gt;
     *             &lt;li&gt;teq_temporal_temporal&lt;/li&gt;
     *         &lt;/ul&gt;
     *
     * @param other A temporal or boolean object to compare to &quot;this&quot;.
     * @return A {@link TBool} with the result of the temporal inequality relation.
     */
    default TBool temporal_not_equal(boolean other){
<span class="nc" id="L316">        return (TBool) Factory.create_temporal(functions.tne_tbool_bool(getBoolInner(),other), getCustomType(),getTemporalType());</span>
    }


    /* ------------------------- Restrictions ---------------------------------- */


    /**
     * Returns a new temporal boolean with the values of &quot;this&quot; restricted to
     *         the time or value &quot;other&quot;.
     *
     *  &lt;p&gt;
     *         MEOS Functions:
     *         &lt;ul&gt;
     *             &lt;li&gt;tbool_at_value&lt;/li&gt;
     *             &lt;li&gt;temporal_at_timestamp&lt;/li&gt;
     *             &lt;li&gt;temporal_at_timestampset&lt;/li&gt;
     *             &lt;li&gt;temporal_at_period&lt;/li&gt;
     *             &lt;li&gt;temporal_at_periodset&lt;/li&gt;
     *         &lt;/ul&gt;
     * @param other Time or value to restrict to.
     * @return A new temporal boolean.
     */
    default TBool at(boolean other){
<span class="nc" id="L340">        return (TBool) Factory.create_temporal(functions.tbool_at_value(getBoolInner(),other), getCustomType(),getTemporalType());</span>
    }


    /**
     * Returns a new temporal boolean with the values of &quot;this&quot; restricted to
     *         the complement of the time or value
     *          &quot;other&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *         &lt;ul&gt;
     *             &lt;li&gt;tbool_minus_value&lt;/li&gt;
     *             &lt;li&gt;temporal_minus_timestamp&lt;/li&gt;
     *             &lt;li&gt;temporal_minus_timestampset&lt;/li&gt;
     *             &lt;li&gt;temporal_minus_period&lt;/li&gt;
     *             &lt;li&gt;temporal_minus_periodset&lt;/li&gt;
     *        &lt;/ul&gt;
     * @param other Time or value to restrict to the complement of.
     * @return A new temporal boolean.
     */
    default TBool minus(boolean other){
<span class="nc" id="L363">        return (TBool) Factory.create_temporal(functions.tbool_minus_value(getBoolInner(),other), getCustomType(),getTemporalType());</span>
    }

    /* ------------------------- Boolean Operations ---------------------------- */


    /**
     * Returns the temporal conjunction of &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tand_tbool_bool&lt;/li&gt;
     *             &lt;li&gt;tand_tbool_tbool&lt;/li&gt;
     *
     * @param other A temporal or boolean object to combine with &quot;this&quot;.
     * @return A {@link TBool} with the temporal conjunction of &quot;this&quot; and
     *      *             &quot;other&quot;.
     */
    default TBool temporal_and(TBool other){
<span class="nc" id="L383">        return (TBool) Factory.create_temporal(functions.tand_tbool_tbool(getBoolInner(),other.getBoolInner()), getCustomType(),getTemporalType());</span>
    }

/**
        Returns the temporal conjunction of `this` and `other`.

        Args:
            other: A temporal or boolean object to combine with `this`.

        Returns:
            A :class:`TBool` with the temporal conjunction of `this` and `other`.

        MEOS Functions:
            tand_tbool_bool, tand_tbool_tbool
*/
    default TBool and(Object other){
<span class="nc" id="L399">        return this.temporal_and((TBool) other);</span>
    }


    /**
     * Returns the temporal conjunction of &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tand_tbool_bool&lt;/li&gt;
     *             &lt;li&gt;tand_tbool_tbool&lt;/li&gt;
     *
     * @param other A temporal or boolean object to combine with &quot;this&quot;.
     * @return A {@link TBool} with the temporal conjunction of &quot;this&quot; and
     *      *             &quot;other&quot;.
     */
    default TBool temporal_and_bool(boolean other){
<span class="nc" id="L417">        return (TBool) Factory.create_temporal(functions.tand_tbool_bool(getBoolInner(),other), getCustomType(),getTemporalType());</span>
    }

    /**
     * Returns the temporal disjunction of &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tor_tbool_bool&lt;/li&gt;
     *             &lt;li&gt;tor_tbool_tbool&lt;/li&gt;
     *
     * @param other A temporal or boolean object to combine with &quot;this&quot;.
     * @return A {@link TBool} with the temporal disjunction of &quot;this&quot; and
     *      *             &quot;other&quot;.
     */
    default TBool temporal_or(TBool other){
<span class="nc" id="L434">        return (TBool) Factory.create_temporal(functions.tor_tbool_tbool(getBoolInner(),other.getBoolInner()), getCustomType(),getTemporalType());</span>
    }

    /**
        Returns the temporal disjunction of `this` and `other`.

        Args:
            other: A temporal or boolean object to combine with `this`.

        Returns:
            A :class:`TBool` with the temporal disjunction of `this` and `other`.

        MEOS Functions:
            tor_tbool_bool, tor_tbool_tbool
*/
    default TBool or(Object other){
<span class="nc" id="L450">        return this.temporal_or((TBool) other);</span>
    }


    /**
     * Returns the temporal disjunction of &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;tor_tbool_bool&lt;/li&gt;
     *             &lt;li&gt;tor_tbool_tbool&lt;/li&gt;
     *
     * @param other A temporal or boolean object to combine with &quot;this&quot;.
     * @return A {@link TBool} with the temporal disjunction of &quot;this&quot; and
     *      *             &quot;other&quot;.
     */
    default TBool temporal_or_bool(boolean other){
<span class="nc" id="L468">        return (TBool) Factory.create_temporal(functions.tor_tbool_bool(getBoolInner(),other), getCustomType(),getTemporalType());</span>
    }


    /**
     * Returns the temporal negation of &quot;this&quot;.
     *
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;tnot_tbool&lt;/li&gt;
     * @return A {@link TBool} with the temporal negation of &quot;this&quot;.
     */
    default TBool temporal_not(){
<span class="nc" id="L481">        return (TBool) Factory.create_temporal(functions.tnot_tbool(getBoolInner()),getCustomType(),getTemporalType());</span>
    }


    /**
     * Returns a period set with the periods where &quot;this&quot; is True.
     *
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;tbool_when_true&lt;/li&gt;
     * @return A {@link tstzspan} with the periods where &quot;this&quot; is True.
     */
    default tstzspanset when_true(){
<span class="fc" id="L494">        return new tstzspanset(functions.tbool_when_true(getBoolInner()));</span>
    }


    /**
     * Returns a period set with the periods where &quot;this&quot; is False.
     *
     * &lt;p&gt;
     *         MEOS Function:
     *             &lt;li&gt;tbool_when_true&lt;/li&gt;
     * @return A {@link tstzspan} with the periods where &quot;this&quot; is False.
     */
    default tstzspanset when_false(){
<span class="fc" id="L507">        return new tstzspanset(functions.tbool_when_true(functions.tnot_tbool(getBoolInner())));</span>
    }
/**
        Returns the temporal negation of `this`.

        Returns:
            A :class:`TBool` with the temporal negation of `this`.

        MEOS Function:
            tnot_tbool
*/
    default TBool neg(){
<span class="nc" id="L519">        return this.temporal_not();</span>
    }

/**
        Returns the temporal negation of `self`.

        Returns:
            A :class:`TBool` with the temporal negation of `self`.

        MEOS Function:
            tnot_tbool
*/
    default TBool invert(){
<span class="nc" id="L532">       return this.temporal_not();</span>
    }
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>