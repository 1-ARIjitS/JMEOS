<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FloatSet.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jmeos</a> &gt; <a href="index.source.html" class="el_package">types.collections.number</a> &gt; <span class="el_source">FloatSet.java</span></div><h1>FloatSet.java</h1><pre class="source lang-java linenums">package types.collections.number;
import jnr.ffi.Pointer;
import types.collections.base.Base;
import types.collections.base.Set;

import java.util.ArrayList;
import java.util.List;
import functions.functions;


/**
 * Class for representing a set of text values.
 *  &lt;p&gt;
 *     &quot;TextSet&quot; objects can be created with a single argument of type string as
 *     in MobilityDB.
 *&lt;p&gt;
 *         &gt;&gt;&gt; FloatSet(string='{1, 3, 56}')
 *&lt;p&gt;
 *     Another possibility is to create a &quot;TextSet&quot; object from a list of
 *     strings or floats.
 *&lt;p&gt;
 *         &gt;&gt;&gt; FloatSet(elements=[1, '2', 3, '56'])
 * @author ARIJIT SAMAL
 */
public class FloatSet extends Set&lt;Float&gt; implements Number{
    private final Pointer _inner;

    public FloatSet(Pointer inner){
<span class="fc" id="L29">        super(inner);</span>
<span class="fc" id="L30">        _inner = inner;</span>
<span class="fc" id="L31">    }</span>

    public FloatSet(String str){
<span class="fc" id="L34">        super(str);</span>
<span class="fc" id="L35">        _inner = functions.floatset_in(str);</span>
<span class="fc" id="L36">    }</span>

    @Override
    public Pointer createStringInner(String str){
<span class="fc" id="L40">        return functions.floatset_in(str);</span>
    }

    @Override
    public Pointer createInner(Pointer inner){
<span class="fc" id="L45">        return inner;</span>
    }

    /* ------------------------- Constructors ---------------------------------- */


    /* ------------------------- Output ---------------------------------------- */


    /**
     * Return the string representation of the content of &quot;this&quot;.
     *
     *  &lt;p&gt;
     *         MEOS Functions:
     *             &lt;li&gt;floatset_out&lt;/li&gt;
     *
     *
     * @param max_decimals number of maximum decimals
     * @return A new {@link String} instance
     */
    public String toString(int max_decimals){
<span class="fc" id="L66">        return functions.floatset_out(this._inner, max_decimals);</span>
    }


    /* ------------------------- Conversions ----------------------------------- */


    /**
     * Returns a SpanSet that contains a Span for each element in &quot;this&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;set_to_spanset&lt;/li&gt;
     *
     * @return A new {@link FloatSpanSet} instance
     */
    public FloatSpanSet to_spanset(){
<span class="nc" id="L84">        return new FloatSpanSet(functions.set_to_spanset(this._inner));</span>
    }



    /**
     * Returns a span that encompasses &quot;this&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;set_span&lt;/li&gt;
     *
     * @return A new {@link FloatSpan} instance
     */
    public FloatSpan to_span(){
<span class="nc" id="L100">        return new FloatSpan(functions.set_to_span(this._inner));</span>
    }

    public IntSet to_intset(){
<span class="nc" id="L104">        List&lt;Integer&gt; intElements = new ArrayList&lt;Integer&gt;();</span>
<span class="nc bnc" id="L105" title="All 2 branches missed.">        for (Float element : this.elements()) {</span>
<span class="nc" id="L106">            intElements.add(element.intValue());</span>
<span class="nc" id="L107">        }</span>
<span class="nc" id="L108">        return new IntSet(String.valueOf(intElements));</span>
    }


    /** ------------------------- Accessors ------------------------------------- */

    @Override
    public Pointer get_inner(){
<span class="nc" id="L116">        return this._inner;</span>
    }

    /**
     * Returns the first element in &quot;this&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;floatset_start_value&lt;/li&gt;
     *
     * @return A {@link Float} instance
     */
    public Float start_element(){
<span class="fc" id="L130">        return (float) functions.floatset_start_value(this._inner);</span>
    }


    /**
     * Returns the last element in &quot;this&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;floatset_end_value&lt;/li&gt;
     *
     * @return A {@link Float} instance
     */
    public Float end_element(){
<span class="fc" id="L145">        return (float) functions.floatset_end_value(this._inner);</span>
    }

    /**
     * Returns the &quot;n&quot;-th element in &quot;this&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;floatset_value_n&lt;/li&gt;
     *
     * @param n The 0-based index of the element to return.
     * @return A {@link Float} instance
     * @throws Exception
     */
    public Float element_n(int n) throws Exception {
<span class="fc" id="L161">        super.element_n(n);</span>
<span class="fc" id="L162">        return this.elements().get(n);</span>
    }

    public List&lt;Float&gt; elements(){
<span class="fc" id="L166">        Pointer elems = functions.floatset_values(this._inner);</span>
<span class="fc" id="L167">        List&lt;Float&gt; ret = new ArrayList&lt;Float&gt;();</span>
<span class="fc bfc" id="L168" title="All 2 branches covered.">        for (int i=0;i&lt;this.num_elements();i++)</span>
        {
<span class="fc" id="L170">            ret.add((float) elems.getDouble((long) i * Double.BYTES));</span>
        }
<span class="fc" id="L172">        return ret;</span>
    }

    /* ------------------------- Transformations ------------------------------------ */

    /**
     * Returns a new &quot;FloatSet&quot; instance with all elements shifted by &quot;delta&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;floatset_shift_scale&lt;/li&gt;
     *
     * @param delta The value to shift by.
     * @return A new {@link FloatSet} instance
     */

    public FloatSet shift(float delta){
<span class="nc" id="L190">        return shift_scale(delta,0);</span>
    }




    /**
     * Returns a new &quot;FloatSet&quot; instance with all elements scaled to so that the encompassing
     *         span has width &quot;new_width&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;floatset_shift_scale&lt;/li&gt;
     *
     * @param new_width The new width.
     * @return A new {@link FloatSet} instance
     */

    public FloatSet scale(float new_width){
<span class="nc" id="L210">        return shift_scale(0, new_width);</span>
    }




    /**
     * Returns a new &quot;FloatSet&quot; instance with all elements shifted by &quot;delta&quot; and scaled to so that the
     *          encompassing span has width  &quot;new_width&quot;.
     *
     * &lt;p&gt;
     *         MEOS Functions:
     *             floatset_shift_scale
     *
     * @param delta The value to shift by.
     * @param new_width The new width.
     * @return A new {@link FloatSet} instance
     */

    public FloatSet shift_scale(float delta, float new_width){
<span class="nc bnc" id="L230" title="All 4 branches missed.">        return new FloatSet(functions.floatset_shift_scale(this._inner,delta,new_width,delta != 0, new_width != 0));</span>
    }




    /* ------------------------- Topological Operations -------------------------------- */

    /**
     * Returns whether &quot;this&quot; contains &quot;content&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;contains_set_set&lt;/li&gt;
     *             &lt;li&gt;contains_floatset_float&lt;/li&gt;
     *
     * @param other object to compare with
     * @return True if contains, False otherwise
     */

    public boolean contains(Object other) throws Exception {
<span class="fc bfc" id="L252" title="All 2 branches covered.">        if (other instanceof Float){</span>
<span class="fc" id="L253">            return functions.contains_set_float(this._inner, (float) other);</span>
        }
        else{
<span class="fc" id="L256">            return super.contains((Base)other);</span>
        }
    }



    /* ------------------------- Position Operations -------------------------------- */

    /**
     * Returns whether &quot;this&quot; is strictly to the left of &quot;other&quot;. That is,
     *         &quot;this&quot; ends before &quot;other&quot; starts.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;left_set_set&lt;/li&gt;
     *             &lt;li&gt;left_floatset_float&lt;/li&gt;
     *
     * @param other object to compare with
     * @return True if left, False otherwise
     * @throws Exception
     */
    public boolean is_left(Object other) throws Exception {
<span class="fc bfc" id="L279" title="All 2 branches covered.">        if (other instanceof Float){</span>
<span class="fc" id="L280">            return functions.left_set_float(this._inner, (float) other);</span>
        }
        else{
<span class="fc" id="L283">            return super.is_left((Base) other);</span>
        }
    }

    /**
     * Returns whether &quot;this&quot; is to the left of &quot;other&quot; allowing overlap.
     *         That is, &quot;this&quot; ends before &quot;other&quot; ends (or at the same value).
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;overleft_set_set&lt;/li&gt;
     *             &lt;li&gt;overleft_floatset_float&lt;/li&gt;
     *
     * @param other object to compare with
     * @return True if is over or left, False otherwise
     * @throws Exception
     */
    public boolean is_over_or_left(Object other) throws Exception {
<span class="fc bfc" id="L302" title="All 2 branches covered.">        if (other instanceof Float){</span>
<span class="fc" id="L303">            return functions.overleft_set_float(this._inner, (float) other);</span>
        }
        else{
<span class="fc" id="L306">            return super.is_over_or_left((Base) other);</span>
        }
    }


    /**
     * Returns whether &quot;this&quot; is strictly to the right of &quot;other&quot;. That is,
     *         &quot;this&quot; ends after &quot;other&quot; starts.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;right_set_set&lt;/li&gt;
     *             &lt;li&gt;right_floatset_float&lt;/li&gt;
     *
     * @param other object to compare with
     * @return True if right, False otherwise
     * @throws Exception
     */
    public boolean is_right(Object other) throws Exception {
<span class="fc bfc" id="L326" title="All 2 branches covered.">        if (other instanceof Float){</span>
<span class="fc" id="L327">            return functions.right_set_float(this._inner, (float) other);</span>
        }
        else{
<span class="fc" id="L330">            return super.is_right((Base) other);</span>
        }
    }


    /**
     * Returns whether &quot;this&quot; is to the right of &quot;other&quot; allowing overlap.
     *         That is, &quot;this&quot; starts before &quot;other&quot; ends (or at the same value).
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;overright_set_set&lt;/li&gt;
     *             &lt;li&gt;overright_floatset_float&lt;/li&gt;
     *
     * @param other object to compare with
     * @return True if is over or right, False otherwise
     * @throws Exception
     */
    public boolean is_over_or_right(Object other) throws Exception {
<span class="fc bfc" id="L350" title="All 2 branches covered.">        if (other instanceof Float){</span>
<span class="fc" id="L351">            return functions.overright_set_float(this._inner, (float) other);</span>
        }
        else{
<span class="fc" id="L354">            return super.is_over_or_right((Base) other);</span>
        }
    }


    /* ------------------------- Set Operations -------------------------------- */


    /**
     * Returns the intersection of &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;intersection_set_set&lt;/li&gt;
     *             &lt;li&gt;intersection_floatset_float&lt;/li&gt;
     *
     * @param other A {@link FloatSet} or {@link Float} instance
     * @return An object of the same type as &quot;other&quot; or &quot;None&quot; if the
     *      *             intersection is empty.
     * @throws Exception
     */
    public FloatSet intersection(Object other) throws Exception{
<span class="fc" id="L377">        Pointer result = null;</span>
<span class="pc bpc" id="L378" title="2 of 4 branches missed.">        if ((other instanceof Float) || (other instanceof Integer)){</span>
<span class="nc" id="L379">            result= functions.intersection_set_float(this._inner, (float) other);</span>
        }
<span class="pc bpc" id="L381" title="1 of 2 branches missed.">        else if(other instanceof FloatSet){</span>
<span class="fc" id="L382">            result= functions.intersection_set_set(this._inner, ((FloatSet) other)._inner);</span>
        }
        else {
<span class="nc" id="L385">            throw new Exception(&quot;Operation not supported with this type&quot;);</span>
        }
<span class="fc" id="L387">        return new FloatSet(result);</span>
    }

    /**
     * Returns the difference of &quot;this&quot; and &quot;other&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;minus_set_set&lt;/li&gt;
     *             &lt;li&gt;minus_floatset_float&lt;/li&gt;
     *
     * @param other A {@link FloatSet} or {@link Float}instance
     * @return A {@link FloatSet} instance or &quot;None&quot; if the difference is empty.
     * @throws Exception
     */
    public FloatSet minus(Object other) throws Exception {
<span class="fc" id="L404">        Pointer result = null;</span>
<span class="pc bpc" id="L405" title="1 of 2 branches missed.">        if (other instanceof Float){</span>
<span class="nc" id="L406">            result = functions.minus_set_float(this._inner, (float) other);</span>
        }
<span class="pc bpc" id="L408" title="1 of 2 branches missed.">        else if(other instanceof FloatSet){</span>
<span class="fc" id="L409">            result = functions.minus_set_set(this._inner, ((FloatSet) other)._inner);</span>
        }

<span class="fc" id="L412">        return new FloatSet(result);</span>
    }



    /**
     * Returns the difference of &quot;other&quot; and &quot;this&quot;.
     *
     *  &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;minus_float_floatset&lt;/li&gt;
     *
     *
     * @param other A {@link Float} instance
     * @return A {@link Float} instance or &quot;None&quot; if the difference is empty.
     */
    public Pointer subtract_from(float other){
<span class="nc" id="L430">        return functions.minus_float_set(other,this._inner);</span>

    }


    /**
     * Returns the union of &quot;this&quot; and &quot;other&quot;.
     *
     * &lt;p&gt;
     *
     *         MEOS Functions:
     *             &lt;li&gt;union_set_set&lt;/li&gt;
     *             &lt;li&gt;union_floatset_float&lt;/li&gt;
     *
     * @param other A {@link FloatSet} or {@link Float} instance
     * @return A {@link FloatSet} instance.
     * @throws Exception
     */
    public FloatSet union(Object other) throws Exception {
<span class="fc" id="L449">        Pointer result = null;</span>
<span class="pc bpc" id="L450" title="1 of 2 branches missed.">        if (other instanceof Float){</span>
<span class="nc" id="L451">            result = functions.union_set_float(this._inner, (float) other);</span>
        }
<span class="pc bpc" id="L453" title="1 of 2 branches missed.">        else if(other instanceof FloatSet){</span>
<span class="fc" id="L454">            result = functions.union_set_set(this._inner, ((FloatSet) other)._inner);</span>
        }

<span class="fc" id="L457">        return new FloatSet(result);</span>
    }



    /* ------------------------- Distance Operations --------------------------- */


    /**
     * /**
     * Returns the distance between &quot;this&quot; and &quot;other&quot;.
     * &lt;p&gt;
     *
     *      MEOS functions:
     *          &lt;li&gt;distance_floatset_float&lt;/li&gt;
     *
     *
     * @param other object to compare with
     * @return A float value
     * @throws Exception
     */
    public float distance(Object other) throws Exception {
<span class="fc" id="L479">        float answer=0;</span>
<span class="pc bpc" id="L480" title="1 of 4 branches missed.">        if ((other instanceof Float) || (other instanceof Integer)){</span>
<span class="fc" id="L481">            answer= (float) functions.distance_set_float(this._inner, (float) other);</span>
        }
<span class="pc bpc" id="L483" title="1 of 2 branches missed.">        else if(other instanceof FloatSet){</span>
<span class="fc" id="L484">            answer= (float) functions.distance_floatset_floatset(this._inner, ((FloatSet) other)._inner);</span>
        }
<span class="nc bnc" id="L486" title="All 2 branches missed.">        else if(other instanceof FloatSpan){</span>
<span class="nc" id="L487">            answer= this.to_spanset().distance(other);</span>
        }
<span class="nc bnc" id="L489" title="All 2 branches missed.">        else if(other instanceof FloatSpanSet){</span>
<span class="nc" id="L490">            answer= this.to_spanset().distance(other);</span>
        }
        else {
<span class="nc" id="L493">            throw new Exception(&quot;Operation not supported with &quot;+ other + &quot; type&quot;);</span>
        }
<span class="fc" id="L495">        return answer;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>